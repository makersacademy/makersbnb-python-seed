<!DOCTYPE html>
<html lang="en-GB">
<head>
    <title>SpaceBnB - logout</title>
    <meta charset="utf-8">
    <link rel="stylesheet" href="/static/style.css">
</head>
    <body>
        {% include "banner.html" %}
        <div class='username'>
            <code>
                {% if session.user_id %}
                    <p>{{ user.username }} signed in</p>
                {% endif %}
            <code>
        </div>
        </div>
        <h1>Space BnB</h1>
        <h2>Would you like to log out?</h2>
        <h3></h3>
        <button type="button" onclick="logOut()">Log out</button>
        
            <script>
            function logOut() {
                let confirmLogout = confirm("Are you sure you want to logout?");
                if (confirmLogout) {
                    alert("Logged out successfully");
            
                    // Create a form dynamically
                    let form = document.createElement('form');
                    form.method = 'post';
                    form.action = '/logout';

                    // add a hidden input field for username
                    let username = document.createElement('input');
                    username.type = 'hidden';
                    username.name = 'username';
                    username.value = 'exampleUserName'
                    form.appendChild(username);
            
                    // Append the form to the document and submit it
                    document.body.appendChild(form);
                    form.submit();
                } else {
                    alert("Logout cancelled");
                }
            }
            </script>
    </body>
</html>
