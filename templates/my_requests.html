{% extends 'base.html' %}
<body>
    {% block header %} {{ super() }} {% endblock %}
    
    <nav class ="navbar">
        <div class="flex-nav"></div>
        <div class="properties-listed">Property Listings</div>
        <div class="my-listings">My Listings</div>
        <div class="my-profile">My Profile</div>
        <div class="my-requests">My Requests</div>
    </nav>

    {%block content%}
    <main>
        <div class="my-requests space-container">
                <h2>My Requests</h2>
                <h3>Pending Requests</h3>
                {% for request in requests if request.status == 'pending' %}
                <p>Booking ID: {{request.booking_id}}</p>
                <p>{{request.name}}</p>
                <p>Number of nights: {{request.nights}}</p>
                <p>Date from: {{request.date_from}}</p>
                <p>Date to: {{request.date_to}}</p>
                <p>£{{request.price_per_night}}.00 per night</p>
                <p>Total cost: £{{request.price_per_night * request.nights}}.00</p>
                <p>Request status: {{request.status}}</p>
                <hr>
            {% else %}
                <p>You have no pending requests.</p>
                {% endfor %}

                <h3>Confirmed requests</h3>

                {% for request in requests if request.status == 'confirmed' %}
                <p>Booking ID: {{request.booking_id}}</p>
                <p>{{request.name}}</p>
                <p>Number of nights: {{request.nights}}</p>
                <p>Date from: {{request.date_from}}</p>
                <p>Date to: {{request.date_to}}</p>
                <p>£{{request.price_per_night}}.00 per night</p>
                <p>Total cost: £{{request.price_per_night * request.nights}}.00</p>
                <p>Request status: {{request.status}}</p>
                    <hr>
                {% else %}
                    <p>You have no confirmed requests.</p>
                {% endfor %}
        </div>
    </main>
    {% endblock %}

    {% block footer %} {{ super() }} {% endblock %}
</body>
</html>
